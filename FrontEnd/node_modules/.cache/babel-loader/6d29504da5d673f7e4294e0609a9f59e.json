{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/TTB012_MB/FrontEnd/src/componentes/Login/Signup.jsx\";\nimport React, { useRef, useState, useEffect } from 'react';\nimport Cookies from 'js-cookie';\nimport ReactDOM from \"react-dom\";\nimport { useHistory } from 'react-router-dom';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport swal from \"sweetalert\";\nimport Box from '@material-ui/core/Box';\nimport TrainIcon from '@material-ui/icons/TrainOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles, Select, MenuItem } from '@material-ui/core/';\nimport Container from '@material-ui/core/Container';\nimport { register } from \"../Functions/UserFunctions\";\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\n\nfunction Copyright() {\n  return /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 5\n    }\n  }, 'Copyright © ', /*#__PURE__*/React.createElement(Link, {\n    color: \"inherit\",\n    href: \"https://material-ui.com/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }\n  }, \"Proyecto Metrob\\xFAs\"), ' ', new Date().getFullYear(), '.');\n}\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: '100%',\n    // Fix IE 11 issue.\n    marginTop: theme.spacing(3)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  }\n}));\nexport default function SignUp() {\n  const classes = useStyles();\n  const history = useHistory();\n  const [Mensajes, setMensajes] = useState([]);\n  const Nombre = useRef('');\n  const Apellido = useRef('');\n  const email = useRef('');\n  const password = useRef('');\n  const Departamento = useRef('');\n  const Tipo = useRef('');\n  const erroNombre = useRef('');\n  const erroApellido = useRef('');\n  const erroCorreo = useRef('');\n  const erroClave = useRef('');\n  useEffect(() => {\n    if (Cookies.get(\"Token\")) history.replace(\"/Revisiones/Formatos\");\n  }, []);\n\n  const submit = event => {\n    event.preventDefault();\n    const newUser = {\n      Nombre: Nombre.current.value,\n      Apellido: Apellido.current.value,\n      email: email.current.value,\n      password: password.current.value,\n      Departamento: Departamento.current.value,\n      Tipo: Tipo.current.value\n    };\n    register(newUser).then(res => {\n      console.log(res);\n\n      if (res) {\n        swal(\"¡Registrado!\", \":)\", \"success\");\n        history.replace(\"/log\");\n      } else {\n        swal(\"¡El usuario ya existe!\", \":(\", \"error\");\n        history.replace(\"/sign\");\n      }\n    });\n  };\n\n  const Validaciones = event => {\n    const nombre = event.currentTarget.id;\n    const valor = event.currentTarget.value;\n    console.log(nombre);\n\n    if (nombre == 'Nombre') {\n      if (!/^[A-Za-záéíóúÁÉÍÓÚ'\\s]+$/i.test(valor)) {\n        erroNombre.current = \"El nombre no admite caracteres especiales ni números.\";\n        Nombre.current.error = true;\n        setMensajes(\"\");\n      } else {\n        erroNombre.current = \"\";\n        Nombre.current.error = false;\n        setMensajes(\"a\");\n      }\n    } else if (nombre == 'Apellido') {\n      if (!/^[A-Za-záéíóúÁÉÍÓÚ'\\s]+$/i.test(valor)) {\n        erroApellido.current = \"El apellido no admite caracteres especiales ni números.\";\n        Apellido.current.error = true;\n        setMensajes(\"ab\");\n      } else {\n        erroApellido.current = \"\";\n        Apellido.current.error = false;\n        setMensajes(\"abc\");\n      }\n    } else if (nombre == 'email') {\n      if (!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/i.test(valor)) {\n        erroCorreo.current = \"El correo debe seguir la siguiente estructura: ejemplo@ejemplo.com\";\n        email.current.error = true;\n        setMensajes(\"abcd\");\n      } else {\n        erroCorreo.current = \"\";\n        email.current.error = false;\n        setMensajes(\"abcde\");\n      }\n    } else {\n      if (/^([A-Za-z0-9áéíóúÁÉÍÓÚ#$%&/()']){8,}$/i.test(valor)) {\n        console.log(\"Lleque aqui\");\n\n        if (!/[A-Z]+/.test(valor) || !/[0-9]+/.test(valor) || !/[#$%&/()']+/.test(valor)) {\n          console.log(\"Lleque aquiiii\");\n          erroClave.current = \"La contraseña debe tener al menos una mayúscula, un número y alguno de los siguientes caracteres: #$%&/()'\";\n          password.current.error = true;\n          setMensajes(\"abcdef\");\n        } else {\n          erroClave.current = \"\";\n          password.current.error = false;\n          setMensajes(\"abcdefg\");\n        }\n      } else {\n        console.log(\"Lleque aquiiii\");\n        erroClave.current = \"Minimo debe de tener 8 caracteres\";\n        password.current.error = true;\n        setMensajes(\"abcdefgh\");\n      }\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CssBaseline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    className: classes.avatar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(AccountCircleIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 9\n    }\n  }, \"Registro\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.form,\n    noValidate: true,\n    onSubmit: submit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    autoComplete: \"fname\",\n    name: \"firstName\",\n    variant: \"outlined\",\n    required: true,\n    fullWidth: true,\n    id: \"Nombre\",\n    key: \"Nombre\",\n    label: \"Nombre\",\n    inputRef: Nombre,\n    error: Nombre.current.error,\n    helperText: erroNombre.current,\n    onBlur: Validaciones,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    required: true,\n    fullWidth: true,\n    id: \"Apellido\",\n    key: \"Apellido\",\n    label: \"Apellido\",\n    name: \"lastName\",\n    autoComplete: \"lname\",\n    inputRef: Apellido,\n    error: Apellido.current.error,\n    helperText: erroApellido.current,\n    onBlur: Validaciones,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    labelId: \"Departamento\",\n    id: \"Departamento\",\n    name: \"Departamento\",\n    defaultValue: \"Transporte\",\n    inputRef: Departamento,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"Transporte\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 17\n    }\n  }, \"Unidades de Transporte\"))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    labelId: \"Tipo de Empleado\",\n    id: \"Tipo\",\n    name: \"Tipo\",\n    defaultValue: \"Supervisor\",\n    inputRef: Tipo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"Supervisor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 17\n    }\n  }, \"Supervisor\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"Auditor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 17\n    }\n  }, \"Auditor\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"JUD\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 17\n    }\n  }, \"JUD\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"Gerente\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 17\n    }\n  }, \"Gerente\"))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    required: true,\n    fullWidth: true,\n    id: \"email\",\n    key: \"email\",\n    label: \"Correo Electr\\xF3nico\",\n    name: \"email\",\n    inputRef: email,\n    error: email.current.error,\n    helperText: erroCorreo.current,\n    onBlur: Validaciones,\n    autoComplete: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    required: true,\n    fullWidth: true,\n    name: \"password\",\n    label: \"Contrase\\xF1a\",\n    type: \"password\",\n    id: \"password\",\n    key: \"password\",\n    inputRef: password,\n    error: password.current.error,\n    helperText: erroClave.current,\n    onBlur: Validaciones,\n    autoComplete: \"current-password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    fullWidth: true,\n    style: {\n      backgroundColor: '#992830'\n    },\n    variant: \"contained\",\n    color: \"secondary\",\n    className: classes.submit,\n    activeClassName: \"active\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 11\n    }\n  }, \"Registrar\"), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    justify: \"flex-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    href: \"/log\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 15\n    }\n  }, \"\\xBFYa est\\xE1s registrado? Ingresar.\"))))), /*#__PURE__*/React.createElement(Box, {\n    mt: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Copyright, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 9\n    }\n  })));\n}\nconst rootElement = document.getElementById(\"root\");","map":{"version":3,"sources":["/home/ubuntu/TTB012_MB/FrontEnd/src/componentes/Login/Signup.jsx"],"names":["React","useRef","useState","useEffect","Cookies","ReactDOM","useHistory","Avatar","Button","CssBaseline","TextField","Checkbox","Link","Grid","swal","Box","TrainIcon","Typography","makeStyles","Select","MenuItem","Container","register","AccountCircleIcon","Copyright","Date","getFullYear","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","SignUp","classes","history","Mensajes","setMensajes","Nombre","Apellido","email","password","Departamento","Tipo","erroNombre","erroApellido","erroCorreo","erroClave","get","replace","event","preventDefault","newUser","current","value","then","res","console","log","Validaciones","nombre","currentTarget","id","valor","test","error","rootElement","document","getElementById"],"mappings":"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","sourcesContent":["import React, {useRef,useState,useEffect} from 'react';\nimport Cookies from 'js-cookie';\nimport ReactDOM from \"react-dom\";\nimport { useHistory } from 'react-router-dom' \nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport swal from \"sweetalert\";\nimport Box from '@material-ui/core/Box';\nimport TrainIcon from '@material-ui/icons/TrainOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles,Select, MenuItem,  } from '@material-ui/core/';\nimport Container from '@material-ui/core/Container';\nimport {register} from \"../Functions/UserFunctions\";\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright © '}\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\n        Proyecto Metrobús\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default function SignUp() {\n\t\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [Mensajes, setMensajes] = useState([]);\n\n  const Nombre = useRef('') \n  const Apellido = useRef('') \n  const email = useRef('') \n  const password = useRef('') \n  const Departamento = useRef('') \n  const Tipo = useRef('')\n\n  const erroNombre = useRef('')\n  const erroApellido = useRef('')\n  const erroCorreo = useRef('')\n  const erroClave = useRef('')\n\n\tuseEffect(() => {\n      if(Cookies.get(\"Token\"))\n        history.replace(\"/Revisiones/Formatos\")\n    }, [])\n\n\n\n  const submit = (event) => {\n    event.preventDefault();\n    const newUser = {\n      Nombre: Nombre.current.value,\n      Apellido: Apellido.current.value,\n      email: email.current.value,\n      password: password.current.value,\n      Departamento: Departamento.current.value,\n      Tipo: Tipo.current.value\n    }\n    register(newUser).then(res => {\n\t   console.log(res)\n    \tif(res)\n    \t{\n    \t    swal(\"¡Registrado!\",\":)\", \"success\")\n    \t    history.replace(\"/log\")\n    \t}\n    \telse\n    \t{\n    \t      swal(\"¡El usuario ya existe!\",\":(\", \"error\")\n    \t      history.replace(\"/sign\")\n    \t    \t\n    \t}\n    })\n  }\n\n  const Validaciones = (event) => {\n    const nombre = event.currentTarget.id;\n    const valor = event.currentTarget.value;\n    console.log(nombre);\n    if(nombre=='Nombre'){\n      if(!/^[A-Za-záéíóúÁÉÍÓÚ'\\s]+$/i.test(valor)){\n        erroNombre.current = \"El nombre no admite caracteres especiales ni números.\";\n        Nombre.current.error=true;\n        setMensajes(\"\");\n      }else{\n        erroNombre.current = \"\";\n        Nombre.current.error=false;\n        setMensajes(\"a\");\n      }\n    }else if(nombre=='Apellido'){\n      if(!/^[A-Za-záéíóúÁÉÍÓÚ'\\s]+$/i.test(valor)){\n        erroApellido.current = \"El apellido no admite caracteres especiales ni números.\";\n        Apellido.current.error=true;\n        setMensajes(\"ab\");\n      }else{\n        erroApellido.current = \"\";\n        Apellido.current.error=false;\n        setMensajes(\"abc\");\n      }\n    }else if(nombre=='email'){\n      if(!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/i.test(valor)){\n        erroCorreo.current = \"El correo debe seguir la siguiente estructura: ejemplo@ejemplo.com\";\n        email.current.error=true;\n        setMensajes(\"abcd\");\n      }else{\n        erroCorreo.current = \"\";\n        email.current.error=false;\n        setMensajes(\"abcde\");\n      }\n    }else{\n      if(/^([A-Za-z0-9áéíóúÁÉÍÓÚ#$%&/()']){8,}$/i.test(valor)){\n        console.log(\"Lleque aqui\");\n        if((!/[A-Z]+/.test(valor))||(!/[0-9]+/.test(valor))||(!/[#$%&/()']+/.test(valor))){\n          console.log(\"Lleque aquiiii\");\n          erroClave.current = \"La contraseña debe tener al menos una mayúscula, un número y alguno de los siguientes caracteres: #$%&/()'\";\n          password.current.error=true;\n          setMensajes(\"abcdef\");\n        }else{\n          erroClave.current = \"\";\n          password.current.error=false;\n          setMensajes(\"abcdefg\");\n        }\n      }else{\n        console.log(\"Lleque aquiiii\");\n        erroClave.current = \"Minimo debe de tener 8 caracteres\";\n        password.current.error=true;\n        setMensajes(\"abcdefgh\");\n      }\n    }\n  }\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <AccountCircleIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Registro\n        </Typography>\n        <form className={classes.form} noValidate onSubmit={submit}>\n          <Grid container spacing={2}>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                autoComplete=\"fname\"\n                name=\"firstName\"\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"Nombre\"\n                key=\"Nombre\"\n                label=\"Nombre\"\n                inputRef={Nombre}\n                error={Nombre.current.error}\n                helperText={erroNombre.current}\n                onBlur={Validaciones}\n              />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"Apellido\"\n                key=\"Apellido\"\n                label=\"Apellido\"\n                name=\"lastName\"\n                autoComplete=\"lname\"\n                inputRef={Apellido}\n                error={Apellido.current.error}\n                helperText={erroApellido.current}\n                onBlur={Validaciones}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <Select\n                labelId=\"Departamento\"\n                id=\"Departamento\" name=\"Departamento\"\n                defaultValue={\"Transporte\"}\n                inputRef={Departamento}\n              >\n                <MenuItem value={\"Transporte\"}>Unidades de Transporte</MenuItem>\n              </Select>\n            </Grid>\n            <Grid item xs={12}>\n              <Select\n                labelId=\"Tipo de Empleado\"\n                id=\"Tipo\" name=\"Tipo\"\n                defaultValue={\"Supervisor\"}\n                inputRef={Tipo}\n              >\n                <MenuItem value={\"Supervisor\"}>Supervisor</MenuItem>\n                <MenuItem value={\"Auditor\"}>Auditor</MenuItem>\n                <MenuItem value={\"JUD\"}>JUD</MenuItem>\n                <MenuItem value={\"Gerente\"}>Gerente</MenuItem>\n              </Select>\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"email\"\n                key=\"email\"\n                label=\"Correo Electrónico\"\n                name=\"email\"\n                inputRef={email}\n                error={email.current.error}\n                helperText={erroCorreo.current}\n                onBlur={Validaciones}\n                autoComplete=\"email\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                name=\"password\"\n                label=\"Contraseña\"\n                type=\"password\"\n                id=\"password\"\n                key=\"password\"\n                inputRef={password}\n                error={password.current.error}\n                helperText={erroClave.current}\n                onBlur={Validaciones}\n                autoComplete=\"current-password\"\n              />\n            </Grid>\n          </Grid>\n          <Button\n            type=\"submit\"\n            fullWidth\n            style={{backgroundColor:'#992830'}}\n            variant=\"contained\"\n            color=\"secondary\"\n            className={classes.submit}\n            activeClassName=\"active\"\n          >\n            Registrar\n          </Button>\n          <Grid container justify=\"flex-end\">\n            <Grid item>\n              <Link href=\"/log\" >\n                ¿Ya estás registrado? Ingresar.\n              </Link>\n            </Grid>\n\n          </Grid>\n        </form>\n      </div>\n      <Box mt={5}>\n        <Copyright />\n      </Box>\n    </Container>\n  );\n}\nconst rootElement = document.getElementById(\"root\");\n"]},"metadata":{},"sourceType":"module"}