{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/TTB012_MB/FrontEnd/src/componentes/Login/User.js\";\nimport React, { useRef, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Avatar from '@material-ui/core/Avatar';\nimport AvatarUploader from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Cookies from 'js-cookie';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport swal from \"sweetalert\";\nimport Box from '@material-ui/core/Box';\nimport TrainIcon from '@material-ui/icons/TrainOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles, Select, MenuItem } from '@material-ui/core/';\nimport Container from '@material-ui/core/Container';\nimport IconButton from '@material-ui/core/IconButton';\nimport PhotoCamera from '@material-ui/icons/PhotoCamera';\nimport AddAPhotoIcon from '@material-ui/icons/AddAPhoto'; //import AddAPhotoIcon from '@mui/icons-material/AddAPhoto';\n\nimport { register, ActualizarPerfil, getUserData } from \"../Functions/UserFunctions\";\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    width: '200px',\n    // Fix IE 11 issue.\n    height: '200px' // Fix IE 11 issue.\n\n  },\n  form: {\n    width: '100%',\n    // Fix IE 11 issue.\n    marginTop: theme.spacing(3)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  }\n}));\nexport default function User() {\n  const classes = useStyles();\n  const history = useHistory();\n  const Nombre = useRef('');\n  const Apellido = useRef('');\n  const Cargo = useRef('');\n  const email = useRef('');\n  const password = useRef('');\n  const password1 = useRef('');\n  const password2 = useRef('');\n  const Departamento = useRef('');\n  const Tipo = useRef('');\n  const ImagenRef = useRef();\n  const [data, setData] = useState([]);\n  const [data1, setData1] = useState();\n  const imagenes = useRef();\n\n  const convertBase64 = file => {\n    return new Promise((resolve, reject) => {\n      const fileReader = new FileReader();\n      fileReader.readAsDataURL(file);\n\n      fileReader.onload = () => {\n        resolve(fileReader.result);\n      };\n\n      fileReader.onerror = error => {\n        reject(error);\n      };\n    });\n  };\n\n  const handleChange = async e => {\n    const base64 = await convertBase64(e.target.files[0]); //console.log(\"base64\")\n    //console.log(base64)\n\n    imagenes.current = base64;\n    setData1(base64);\n  };\n\n  const [Mensajes, setMensajes] = useState([]);\n  const erroClave = useRef('');\n  const erroClave2 = useRef('');\n\n  const Validaciones = event => {\n    const nombre = event.currentTarget.name;\n    const valor = event.currentTarget.value;\n    const index = event.currentTarget.id;\n\n    if (nombre == 'passwordN1') {\n      if (/^([A-Za-z0-9áéíóúÁÉÍÓÚ#$%&/()']){8,}$/i.test(valor)) {\n        console.log(\"Lleque aqui\");\n\n        if (!/[A-Z]+/.test(valor) || !/[0-9]+/.test(valor) || !/[#$%&/()']+/.test(valor)) {\n          console.log(\"Lleque aquiiii\");\n          erroClave.current = \"La contraseña debe tener al menos una mayúscula, un número y alguno de los siguientes caracteres: #$%&/()'\";\n          password1.current.error = true;\n          setMensajes(\"a\");\n        } else {\n          erroClave.current = \"\";\n          password1.current.error = false;\n          setMensajes(\"b\");\n        }\n      } else {\n        console.log(\"Lleque aquiiii\");\n        erroClave.current = \"Minimo debe de tener 8 caracteres\";\n        password1.current.error = true;\n        setMensajes(\"c\");\n      }\n    }\n\n    if (nombre == 'passwordN2') {\n      if (/^([A-Za-z0-9áéíóúÁÉÍÓÚ#$%&/()']){8,}$/i.test(valor)) {\n        if (!/[A-Z]+/.test(valor) || !/[0-9]+/.test(valor) || !/[#$%&/()']+/.test(valor)) {\n          erroClave2.current = \"La contraseña debe tener al menos una mayúscula, un número y alguno de los siguientes caracteres: #$%&/()'\";\n          password2.current.error = true;\n          setMensajes(\"d\");\n        } else {\n          erroClave2.current = \"\";\n          password2.current.error = false;\n          setMensajes(\"e\");\n        }\n      } else {\n        erroClave2.current = \"Minimo debe de tener 8 caracteres\";\n        password2.current.error = true;\n        setMensajes(\"f\");\n      }\n    }\n  };\n\n  const Envio = event => {\n    event.preventDefault();\n\n    if (password1.current.value == password2.current.value) {\n      console.log(password1.current.value);\n      const newUser = {\n        Nombre: Nombre.current.value,\n        Apellido: Apellido.current.value,\n        Foto: imagenes.current,\n        email: email.current.value,\n        password: password.current.value,\n        passwordn: password1.current.value,\n        Departamento: departamento,\n        Tipo: cargo\n      };\n      console.log(newUser);\n      ActualizarPerfil(newUser).then(res => {\n        console.log(res);\n\n        if (res.success == true) {\n          swal(\"¡Actualizado!\", \"\", \"success\");\n        } else {\n          swal(\"¡Error!\", \"Ingresa tu contraseña actual.\", \"error\");\n        }\n      });\n    } else swal(\"¡Error!\", \"Tu nueva contraseña no coincide.\", \"error\");\n  };\n\n  const [nombre, setNombre] = useState([]);\n  const [apellido, setApellido] = useState([]);\n  const [cargo, setCargo] = useState([]);\n  const [contraseña, setContra] = useState([]);\n  const [departamento, setDepartamento] = useState([]);\n  const [correo, setEmail] = useState([]);\n  useEffect(() => {\n    getLocal();\n  }, []);\n\n  const getLocal = async () => {\n    const url = '/users/get_User';\n    let email_p = Cookies.get(\"Email\");\n    console.log(email_p);\n    const ema = {\n      url: url,\n      email: email_p\n    };\n\n    const _data = await getUserData(ema);\n\n    console.log(_data);\n\n    if (_data.data.Foto) {\n      var bufferBase64 = new Buffer(_data.data.Foto, 'binary').toString('ascii');\n      imagenes.current = bufferBase64;\n      setData1('a');\n    } else {\n      imagenes.current = \"/images/avatars/U_T_titular.png\";\n      setData1('a');\n    }\n\n    let obj = _data.data;\n    let datas = _data.data.Nombre;\n    Nombre.current.value = datas;\n    setNombre(datas);\n    let datas1 = _data.data.Apellido;\n    setApellido(datas1);\n    Apellido.current.value = datas1;\n    let datas2 = _data.data.Tipo;\n    setCargo(datas2);\n    let datas3 = _data.data.password;\n    setContra(datas3);\n    let datas4 = _data.data.Departamento;\n    setDepartamento(datas4);\n    let datas5 = _data.data.email;\n    setEmail(datas5);\n    email.current.value = datas5;\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CssBaseline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    alt: \"Person\",\n    className: classes.avatar,\n    width: \"240\",\n    height: \"50\",\n    src: imagenes.current,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    accept: \"image/*\",\n    className: classes.input,\n    style: {\n      display: 'none'\n    },\n    id: \"raised-button-file\",\n    type: \"file\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"raised-button-file\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    component: \"span\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(AddAPhotoIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(Typography, {\n    component: \"h5\",\n    variant: \"h5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 9\n    }\n  }, \"Mi Perfil\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.form,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    autoComplete: \"fname\",\n    name: \"firstName\",\n    variant: \"outlined\",\n    required: true,\n    fullWidth: true,\n    id: \"Nombre\",\n    key: \"Nombre\",\n    helperText: \"Nombre\",\n    inputRef: Nombre,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    required: true,\n    fullWidth: true,\n    id: \"Apellido\",\n    key: \"Apellido\",\n    helperText: \"Apellido\",\n    name: \"lastName\",\n    autoComplete: \"lname\",\n    inputRef: Apellido,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    required: true,\n    fullWidth: true,\n    id: \"Departamento\",\n    key: \"Departamento\",\n    label: \"Departamento\",\n    value: departamento,\n    name: \"lastName\",\n    autoComplete: \"lname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    required: true,\n    fullWidth: true,\n    id: \"Cargo\",\n    key: \"Cargo\",\n    label: \"Cargo\",\n    name: \"lastName\",\n    value: cargo,\n    autoComplete: \"lname\",\n    inputRef: Cargo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    required: true,\n    fullWidth: true,\n    id: \"email\",\n    key: \"email\",\n    helperText: \"Correo Electr\\xF3nico\",\n    name: \"email\",\n    inputRef: email,\n    autoComplete: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    required: true,\n    fullWidth: true,\n    name: \"password\",\n    label: \"Contrase\\xF1a actual\",\n    type: \"password\",\n    id: \"password\",\n    key: \"password\",\n    inputRef: password,\n    autoComplete: \"current-password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    required: true,\n    fullWidth: true,\n    name: \"passwordN1\",\n    label: \"Nueva contrase\\xF1a\",\n    type: \"passwordN1\",\n    id: \"passwordN1\",\n    key: \"passwordN1\",\n    inputRef: password1,\n    error: password1.current.error,\n    helperText: erroClave.current,\n    onBlur: Validaciones,\n    autoComplete: \"current-password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 14\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    required: true,\n    fullWidth: true,\n    name: \"passwordN2\",\n    label: \"Nueva contrase\\xF1a\",\n    type: \"passwordN2\",\n    id: \"passwordN2\",\n    key: \"passwordN2\",\n    inputRef: password2,\n    error: password2.current.error,\n    helperText: erroClave2.current,\n    onBlur: Validaciones,\n    autoComplete: \"current-password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(Button, {\n    fullWidth: true,\n    variant: \"contained\",\n    color: \"secondary\",\n    className: classes.submit,\n    onClick: Envio,\n    activeClassName: \"active\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 11\n    }\n  }, \"Actualizar\"))));\n}","map":{"version":3,"sources":["/home/ubuntu/TTB012_MB/FrontEnd/src/componentes/Login/User.js"],"names":["React","useRef","useEffect","useState","useHistory","Avatar","AvatarUploader","Button","CssBaseline","TextField","Checkbox","Cookies","Link","Grid","swal","Box","TrainIcon","Typography","makeStyles","Select","MenuItem","Container","IconButton","PhotoCamera","AddAPhotoIcon","register","ActualizarPerfil","getUserData","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","width","height","form","submit","User","classes","history","Nombre","Apellido","Cargo","email","password","password1","password2","Departamento","Tipo","ImagenRef","data","setData","data1","setData1","imagenes","convertBase64","file","Promise","resolve","reject","fileReader","FileReader","readAsDataURL","onload","result","onerror","error","handleChange","e","base64","target","files","current","Mensajes","setMensajes","erroClave","erroClave2","Validaciones","event","nombre","currentTarget","name","valor","value","index","id","test","console","log","Envio","preventDefault","newUser","Foto","passwordn","departamento","cargo","then","res","success","setNombre","apellido","setApellido","setCargo","contraseña","setContra","setDepartamento","correo","setEmail","getLocal","url","email_p","get","ema","_data","bufferBase64","Buffer","toString","obj","datas","datas1","datas2","datas3","datas4","datas5","input"],"mappings":"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","sourcesContent":["import React, {useRef,useEffect,useState} from 'react';\nimport { useHistory } from 'react-router-dom' \nimport Avatar from '@material-ui/core/Avatar';\nimport AvatarUploader from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Cookies from 'js-cookie';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport swal from \"sweetalert\";\nimport Box from '@material-ui/core/Box';\nimport TrainIcon from '@material-ui/icons/TrainOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles,Select, MenuItem,  } from '@material-ui/core/';\nimport Container from '@material-ui/core/Container';\nimport IconButton from '@material-ui/core/IconButton';\nimport PhotoCamera from '@material-ui/icons/PhotoCamera';\nimport AddAPhotoIcon from '@material-ui/icons/AddAPhoto';\n//import AddAPhotoIcon from '@mui/icons-material/AddAPhoto';\nimport {register,ActualizarPerfil,getUserData} from \"../Functions/UserFunctions\";\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    width: '200px', // Fix IE 11 issue.\n    height: '200px', // Fix IE 11 issue.\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n  })\n);\nexport default function User() {\n\t\n  const classes = useStyles();\n  const history = useHistory();\n\n  const Nombre = useRef('') \n  const Apellido = useRef('') \n  const Cargo = useRef('')\n  const email = useRef('') \n  const password = useRef('') \n  const password1 = useRef('') \n  const password2 = useRef('') \n  const Departamento = useRef('') \n  const Tipo = useRef('') \n\n  const ImagenRef = useRef()\n\n  const [data, setData] = useState([]);\n  const [data1, setData1] = useState();\n  const imagenes = useRef()\n\n  const convertBase64 = (file) => {\n    return new Promise((resolve, reject) => {\n      const fileReader = new FileReader();\n      fileReader.readAsDataURL(file)\n      fileReader.onload = () => {\n        resolve(fileReader.result);\n      }\n      fileReader.onerror = (error) => {\n        reject(error);\n      }\n    })\n  }\n\n  const handleChange = async(e) =>{\n    const base64 = await convertBase64(e.target.files[0])\n    //console.log(\"base64\")\n    //console.log(base64)\n    imagenes.current = base64\n    setData1(base64)\n  }\n\n  const [Mensajes, setMensajes] = useState([]);\n  const erroClave = useRef('')\n  const erroClave2 = useRef('')\n\n  const Validaciones = (event) =>{\n\n    const nombre = event.currentTarget.name;\n    const valor = event.currentTarget.value;\n    const index = event.currentTarget.id;\n\n    if(nombre=='passwordN1'){\n      if(/^([A-Za-z0-9áéíóúÁÉÍÓÚ#$%&/()']){8,}$/i.test(valor)){\n        console.log(\"Lleque aqui\");\n        if((!/[A-Z]+/.test(valor))||(!/[0-9]+/.test(valor))||(!/[#$%&/()']+/.test(valor))){\n          console.log(\"Lleque aquiiii\");\n          erroClave.current = \"La contraseña debe tener al menos una mayúscula, un número y alguno de los siguientes caracteres: #$%&/()'\";\n          password1.current.error=true;\n          setMensajes(\"a\");\n        }else{\n          erroClave.current = \"\";\n          password1.current.error=false;\n          setMensajes(\"b\");\n        }\n      }else{\n        console.log(\"Lleque aquiiii\");\n        erroClave.current = \"Minimo debe de tener 8 caracteres\";\n        password1.current.error=true;\n        setMensajes(\"c\");\n      }\n    }\n    if(nombre=='passwordN2'){\n      if(/^([A-Za-z0-9áéíóúÁÉÍÓÚ#$%&/()']){8,}$/i.test(valor)){\n        if((!/[A-Z]+/.test(valor))||(!/[0-9]+/.test(valor))||(!/[#$%&/()']+/.test(valor))){\n          erroClave2.current = \"La contraseña debe tener al menos una mayúscula, un número y alguno de los siguientes caracteres: #$%&/()'\";\n          password2.current.error=true;\n          setMensajes(\"d\");\n        }else{\n          erroClave2.current = \"\";\n          password2.current.error=false;\n          setMensajes(\"e\");\n        }\n      }else{\n        erroClave2.current = \"Minimo debe de tener 8 caracteres\";\n        password2.current.error=true;\n        setMensajes(\"f\");\n      }\n    }\n  }\n\n  const Envio = (event) => {\n    event.preventDefault();\n    if(password1.current.value == password2.current.value)\n    {\n    \tconsole.log(password1.current.value)\n\t\tconst newUser = {\n\t\t\tNombre: Nombre.current.value,\n\t\t\tApellido: Apellido.current.value,\n\t\t\tFoto: imagenes.current,\n\t\t\temail: email.current.value,\n\t\t\tpassword: password.current.value,\n\t\t\tpasswordn: password1.current.value,\n\t\t\tDepartamento: departamento,\n\t\t\tTipo: cargo\n\t\t}\n\t\tconsole.log(newUser)\n\t\tActualizarPerfil(newUser).then(res => {\n\t\t\tconsole.log(res)\n\t\t\tif(res.success == true)\n\t\t\t{\n\t\t\t\tswal(\"¡Actualizado!\",\"\", \"success\")\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tswal(\"¡Error!\",\"Ingresa tu contraseña actual.\", \"error\")\n\t\t\t} \n\t\t})    \n    }\n    else\n      swal(\"¡Error!\",\"Tu nueva contraseña no coincide.\", \"error\")\n    \n  }\n\n  const [nombre, setNombre] = useState([]);\n  const [apellido, setApellido] = useState([]);\n  const [cargo, setCargo] = useState([]);\n  const [contraseña, setContra] = useState([]);\n  const [departamento, setDepartamento] = useState([]);\n  const [correo, setEmail] = useState([]);\n\n  useEffect(() => {\n    getLocal();\n  }, []);\n\n  const getLocal = async () => {\n    const url = '/users/get_User'\n    let email_p = Cookies.get(\"Email\")\n    console.log(email_p)\n    const ema = {\n      url: url,\n      email: email_p\n    }\n    const _data = await getUserData(ema)\n    console.log(_data)\n    if (_data.data.Foto)\n    {\n      var bufferBase64 = new Buffer( _data.data.Foto, 'binary' ).toString('ascii');\n      imagenes.current = bufferBase64\n      setData1('a')\n    }\n    else\n    {\n      imagenes.current = \"/images/avatars/U_T_titular.png\"\n      setData1('a')\n    }\n    let obj = _data.data\n    let datas = _data.data.Nombre\n    Nombre.current.value = datas\n    setNombre(datas)\n    let datas1 = _data.data.Apellido\n    setApellido(datas1)\n    Apellido.current.value = datas1\n    let datas2 = _data.data.Tipo\n    setCargo(datas2)\n    let datas3 = _data.data.password\n    setContra(datas3)\n    let datas4 = _data.data.Departamento\n    setDepartamento(datas4)\n    let datas5 = _data.data.email\n    setEmail(datas5)\n    email.current.value = datas5\n  }\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n          <Avatar alt=\"Person\" className={classes.avatar} width=\"240\" height=\"50\" src={imagenes.current}/>\n          <input\n        accept=\"image/*\"\n        className={classes.input}\n        style={{ display: 'none' }}\n        id=\"raised-button-file\"\n        type=\"file\"\n        onChange={handleChange}\n      />\n      <label htmlFor=\"raised-button-file\">\n      <Button variant=\"contained\" color=\"primary\" component=\"span\">\n          <AddAPhotoIcon/>\n        </Button>\n</label> \n        <Typography component=\"h5\" variant=\"h5\">\n          Mi Perfil\n        </Typography>\n        \n        <form className={classes.form}>\n          <Grid container spacing={2}>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                autoComplete=\"fname\"\n                name=\"firstName\"\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"Nombre\"\n                key=\"Nombre\"\n                helperText=\"Nombre\"\n                inputRef={Nombre}\n              />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"Apellido\"\n                key=\"Apellido\"\n                helperText=\"Apellido\"\n                name=\"lastName\"\n                autoComplete=\"lname\"\n                inputRef={Apellido}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"Departamento\"\n                key=\"Departamento\"\n                label=\"Departamento\"\n                value={departamento}\n                name=\"lastName\"\n                autoComplete=\"lname\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"Cargo\"\n                key=\"Cargo\"\n                label=\"Cargo\"\n                name=\"lastName\"\n                value={cargo}\n                autoComplete=\"lname\"\n                inputRef={Cargo}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"email\"\n                key=\"email\"\n                helperText=\"Correo Electrónico\"\n                name=\"email\"\n                inputRef={email}\n                autoComplete=\"email\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                name=\"password\"\n                label=\"Contraseña actual\"\n                type=\"password\"\n                id=\"password\"\n                key=\"password\"\n                inputRef={password}\n                autoComplete=\"current-password\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n             <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                name=\"passwordN1\"\n                label=\"Nueva contraseña\"\n                type=\"passwordN1\"\n                id=\"passwordN1\"\n                key=\"passwordN1\"\n                inputRef={password1}\n                error={password1.current.error}\n                helperText={erroClave.current}\n                onBlur={Validaciones}\n                autoComplete=\"current-password\"\n              />\n              </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                name=\"passwordN2\"\n                label=\"Nueva contraseña\"\n                type=\"passwordN2\"\n                id=\"passwordN2\"\n                key=\"passwordN2\"\n                inputRef={password2}\n                error={password2.current.error}\n                helperText={erroClave2.current}\n                onBlur={Validaciones}\n                autoComplete=\"current-password\"\n              />\n              </Grid>\n          </Grid>\n          <Button\n            fullWidth\n            variant=\"contained\"\n            color=\"secondary\"\n            className={classes.submit}\n            onClick={Envio}\n            activeClassName=\"active\"\n          >\n            Actualizar\n          </Button>\n        </form>\n      </div>\n    </Container>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}