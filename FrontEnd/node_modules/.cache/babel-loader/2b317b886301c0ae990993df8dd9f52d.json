{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/TTB012_MB/FrontEnd/src/componentes/paginas/formatos/rendimiento.jsx\";\nimport React, { useRef, useState, useEffect, createRef } from 'react';\nimport ReactDOM from \"react-dom\";\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TrainIcon from '@material-ui/icons/TrainOutlined';\nimport { useHistory } from \"react-router-dom\";\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport { green, purple } from '@material-ui/core/colors';\nimport { Grid, Box } from '@material-ui/core/';\nimport { List, ListItem, ListItemIcon, ListItemText } from '@material-ui/core';\nimport { withRouter } from 'react-router-dom';\nimport swal from \"sweetalert\";\nimport { Input, TextField, Container, Typography } from '@material-ui/core';\nimport { sendData } from '../../Functions/Rendimientos';\nimport KeyboardReturn from \"@material-ui/icons/KeyboardReturn\";\nimport CheckCircleOutline from \"@material-ui/icons/CheckCircleOutline\";\nimport PlaylistAdd from \"@material-ui/icons/PlaylistAdd\";\nimport { IoReturnUpBack } from \"react-icons/io5\";\nimport { IoReturnUpForwardOutline } from \"react-icons/io5\";\n\nfunction Rendimientos() {\n  const [Mensajes, setMensajes] = useState([]);\n  const StyledTableCell = withStyles(theme => ({\n    head: {\n      backgroundColor: '#7D2027',\n      color: theme.palette.common.white,\n      size: 'small'\n    },\n    body: {\n      fontSize: 14\n    }\n  }))(TableCell);\n  const StyledTableRow = withStyles(theme => ({\n    root: {\n      '&:nth-of-type(odd)': {}\n    }\n  }))(TableRow);\n  const useStyles = makeStyles(theme => ({\n    paper: {\n      marginTop: theme.spacing(8),\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    table: {\n      minWidth: \"100%\"\n    },\n    form: {\n      width: '100%',\n      // Fix IE 11 issue.\n      marginTop: theme.spacing(3),\n      marginRight: theme.spacing(2)\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2),\n      backgroundColor: theme.palette.error.dark\n    }\n  }));\n  const classes = useStyles();\n  const history = useHistory();\n\n  function getCurrentDate(separator = '') {\n    let newDate = new Date();\n    let date = newDate.getDate();\n    let month = newDate.getMonth() + 1;\n    let year = newDate.getFullYear();\n    return `${year}${separator = \"-\"}${month < 10 ? `0${month}` : `${month}`}${separator = \"-\"}${date}`;\n  }\n\n  function getCurrentMonth(separator = '') {\n    let newDate = new Date();\n    let month = newDate.getMonth();\n    return `${month}`;\n  }\n\n  function getCurrentYear(separator = '') {\n    let newDate = new Date();\n    let year = newDate.getFullYear();\n    return `${year}`;\n  }\n\n  const fecha = getCurrentDate();\n  const meses = [\"Enero\", \"Febrero\", \"Marzo\", \"Abril\", \"Mayo\", \"Junio\", \"Julio\", \"Agosto\", \"Septiembre\", \"Octubre\", \"Noviembre\", \"Diciembre\"];\n  const month = meses[getCurrentMonth()];\n  const mes = meses[parseInt(fecha.substr(5, 2))];\n  const [rows, setRows] = useState([{}]);\n  const NumeroEcoRef = useRef([]);\n  const KmRef = useRef([]);\n  const ConsumoRef = useRef([]);\n  const RendimientoRef = useRef([]);\n  const PeriodoRef = useRef([]);\n  var [numrow, setNum] = useState(1);\n  var aumrow = useRef();\n  const errorEcoRef = useRef([]);\n  const errorKilometrajeRef = useRef([]);\n  const errorConsumoRef = useRef([]);\n  const errorRendimientoRef = useRef([]);\n  const NumeroEcoError = useRef([]);\n  const KilometrajeError = useRef([]);\n  const ConsumoError = useRef([]);\n  const RendimientoError = useRef([]);\n\n  const Validaciones = event => {\n    const nombre = event.currentTarget.name;\n    const valor = event.currentTarget.value;\n    const index = event.currentTarget.id;\n    console.log(nombre + valor + index);\n\n    if (nombre.includes(\"NumeroEconomico\")) {\n      if (!/^[A-ZñÑa-z0-9-. ]+$/i.test(valor)) {\n        errorEcoRef.current[index] = \"El número económico no acepta caracteres especiales.\";\n        NumeroEcoError.current[index] = true;\n        setMensajes(index);\n      } else {\n        errorEcoRef.current[index] = \"\";\n        NumeroEcoError.current[index] = false;\n        setMensajes(index + 'a');\n      }\n    } else if (nombre.includes(\"Kilometraje\")) {\n      if (!/^[0-9.]+$/i.test(valor)) {\n        errorKilometrajeRef.current[index] = \"El kilometraje solo admite números.\";\n        KilometrajeError.current[index] = true;\n        setMensajes(index + \"e\");\n      } else {\n        errorKilometrajeRef.current[index] = \"\";\n        KilometrajeError.current[index] = false;\n        setMensajes(index + \"i\");\n      }\n    } else if (nombre.includes(\"Consumo\")) {\n      if (!/^[0-9/\\A-ZñÑa-z]+$/i.test(valor)) {\n        errorConsumoRef.current[index] = \"El consumo solo admite números.\";\n        ConsumoError.current[index] = true;\n        setMensajes(index + \"o\");\n      } else {\n        errorConsumoRef.current[index] = \"\";\n        ConsumoError.current[index] = false;\n        setMensajes(index + \"u\");\n      }\n    } else if (nombre.includes(\"Rendimiento\")) {\n      if (!/^[0-9/\\A-ZñÑa-z]+$/i.test(valor)) {\n        errorRendimientoRef.current[index] = \"El rendimiento solo admite números.\";\n        RendimientoError.current[index] = true;\n        setMensajes(index + \"aa\");\n      } else {\n        errorRendimientoRef.current[index] = \"\";\n        RendimientoError.current[index] = false;\n        setMensajes(index + \"ee\");\n      }\n    }\n  };\n\n  const handletablaidow = () => {\n    //        let a = aumrow.current.value\n    let a = 0 - 0;\n    if (aumrow.current.value) a = aumrow.current.value;else a = 1 - 0;\n    setNum(numrow + parseInt(a));\n    const item = {\n      NumeroEconomico: \"\",\n      Kilometraje: \"\",\n      Fecha: \"\"\n    };\n\n    for (let i = 0; i < a - 1; i++) rows.push(item);\n\n    setRows([...rows, item]);\n    aumrow.current.value = null;\n  };\n\n  const handleRemoveRow = () => {\n    setRows(rows.slice(0, numrow - 1));\n    setNum(numrow - 1);\n  };\n\n  function updateInputValue(evt) {\n    numrow += evt.target.value;\n    aumrow = evt.target.value;\n  }\n\n  const Envio = async () => {\n    await Computo();\n    history.replace(\"/Revisiones/Formatos\");\n  };\n\n  const Computo = () => {\n    console.log(numrow);\n\n    for (let i = 0; i < parseInt(numrow); i++) {\n      var mesValue = \"\",\n          año = \"\";\n\n      if (NumeroEcoRef.current[i].value && KmRef.current[i].value && ConsumoRef.current[i].value && PeriodoRef.current[i].value) {\n        mesValue = PeriodoRef.current[i].value;\n        console.log(NumeroEcoRef.current[i].value + \" \" + KmRef.current[i].value + \" \" + ConsumoRef.current[i].value + \" \" + PeriodoRef.current[i].value + \"\\n\");\n        const formData = {\n          NumeroEconomico: NumeroEcoRef.current[i].value,\n          Kilometraje: KmRef.current[i].value,\n          ConsumoDiesel: ConsumoRef.current[i].value,\n          RendimientoDiesel: RendimientoRef.current[i].value,\n          Periodo: mesValue,\n          Año: getCurrentYear()\n        };\n        sendData(formData).then(response => {\n          console.log(\"Enviando...\");\n          console.log(\"Fin...\");\n        });\n      }\n    }\n\n    swal(\"¡Felicidades!\", \"Tus datos se enviaron correctamente. \", \"success\"); //history.replace(\"/Revisiones/Formatos\")\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h5\",\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 9\n    }\n  }, \"Rendimiento.\"), /*#__PURE__*/React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h5\",\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 10\n    }\n  }, fecha), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(TableContainer, {\n    component: Paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 9\n    }\n  }, \" \", /*#__PURE__*/React.createElement(Table, {\n    className: classes.table,\n    \"aria-label\": \"customized table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(StyledTableCell, {\n    align: \"center\",\n    component: \"th\",\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 25\n    }\n  }, \"No.\"), /*#__PURE__*/React.createElement(StyledTableCell, {\n    align: \"center\",\n    component: \"th\",\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 25\n    }\n  }, \"N\\xFAmero Econ\\xF3mico\"), /*#__PURE__*/React.createElement(StyledTableCell, {\n    align: \"center\",\n    component: \"th\",\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 25\n    }\n  }, \"Kilometraje\"), /*#__PURE__*/React.createElement(StyledTableCell, {\n    align: \"center\",\n    component: \"th\",\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 25\n    }\n  }, \"Consumo Diesel (lts)\"), /*#__PURE__*/React.createElement(StyledTableCell, {\n    align: \"center\",\n    component: \"th\",\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 25\n    }\n  }, \"Rendimiento Diesel (km/lts)\"), /*#__PURE__*/React.createElement(StyledTableCell, {\n    align: \"center\",\n    component: \"th\",\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 25\n    }\n  }, \"Per\\xEDodo\"), /*#__PURE__*/React.createElement(StyledTableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 17\n    }\n  }, rows.map((item, index) => /*#__PURE__*/React.createElement(TableRow, {\n    id: \"tablaid\",\n    key: index + 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(StyledTableCell, {\n    align: \"center\",\n    component: \"th\",\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 29\n    }\n  }, index + 1), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    component: \"th\",\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    type: \"text\",\n    id: index,\n    name: \"NumeroEconomico\" + index,\n    inputRef: el => NumeroEcoRef.current[index] = el,\n    error: NumeroEcoError.current[index],\n    helperText: errorEcoRef.current[index],\n    onBlur: Validaciones,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    component: \"th\",\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    type: \"text\",\n    id: index,\n    name: \"Kilometraje\" + index,\n    inputRef: el => KmRef.current[index] = el,\n    error: KilometrajeError.current[index],\n    helperText: errorKilometrajeRef.current[index],\n    onBlur: Validaciones,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    component: \"th\",\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    type: \"text\",\n    id: index,\n    name: \"Consumo\" + index,\n    inputRef: el => ConsumoRef.current[index] = el,\n    error: ConsumoError.current[index],\n    helperText: errorConsumoRef.current[index],\n    onBlur: Validaciones,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    component: \"th\",\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    type: \"text\",\n    id: index,\n    name: \"Rendimiento\" + index,\n    inputRef: el => RendimientoRef.current[index] = el,\n    error: RendimientoError.current[index],\n    helperText: errorRendimientoRef.current[index],\n    onBlur: Validaciones,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(StyledTableCell, {\n    align: \"center\",\n    component: \"th\",\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 30\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    name: \"Mes\" + index,\n    defaultValue: month,\n    inputRef: el => PeriodoRef.current[index] = el,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 32\n    }\n  })), /*#__PURE__*/React.createElement(StyledTableCell, {\n    align: \"center\",\n    component: \"th\",\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 29\n    }\n  }))))), \"\\xA0\\xA0\", /*#__PURE__*/React.createElement(Input, {\n    id: \"standart-basic\",\n    type: \"number\",\n    size: \"small\",\n    inputRef: aumrow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"secondary\",\n    style: {\n      backgroundColor: \"#CC353F\"\n    },\n    className: classes.submit,\n    onClick: handletablaidow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(PlaylistAdd, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 44\n    }\n  })), \"\\xA0\"), /*#__PURE__*/React.createElement(Button, {\n    width: \"25%\",\n    align: \"left\",\n    variant: \"contained\",\n    color: \"secondary\",\n    style: {\n      backgroundColor: \"#CC353F\"\n    },\n    className: classes.submit,\n    type: \"submit\",\n    onClick: () => {\n      history.push('/Revisiones/Formatos');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 2\n    }\n  }, /*#__PURE__*/React.createElement(IoReturnUpBack, {\n    size: 20,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 27\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    width: \"25%\",\n    align: \"right\",\n    style: {\n      float: \"right\",\n      backgroundColor: \"#CC353F\"\n    },\n    variant: \"contained\",\n    color: \"secondary\",\n    className: classes.submit,\n    onClick: Envio,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IoReturnUpForwardOutline, {\n    size: 20,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 3\n    }\n  })));\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render( /*#__PURE__*/React.createElement(Rendimientos, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 383,\n    columnNumber: 17\n  }\n}), rootElement);\nexport default withRouter(Rendimientos);","map":{"version":3,"sources":["/home/ubuntu/TTB012_MB/FrontEnd/src/componentes/paginas/formatos/rendimiento.jsx"],"names":["React","useRef","useState","useEffect","createRef","ReactDOM","withStyles","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","TrainIcon","useHistory","Paper","Button","green","purple","Grid","Box","List","ListItem","ListItemIcon","ListItemText","withRouter","swal","Input","TextField","Container","Typography","sendData","KeyboardReturn","CheckCircleOutline","PlaylistAdd","IoReturnUpBack","IoReturnUpForwardOutline","Rendimientos","Mensajes","setMensajes","StyledTableCell","theme","head","backgroundColor","color","palette","common","white","size","body","fontSize","StyledTableRow","root","useStyles","paper","marginTop","spacing","display","flexDirection","table","minWidth","form","width","marginRight","submit","margin","error","dark","classes","history","getCurrentDate","separator","newDate","Date","date","getDate","month","getMonth","year","getFullYear","getCurrentMonth","getCurrentYear","fecha","meses","mes","parseInt","substr","rows","setRows","NumeroEcoRef","KmRef","ConsumoRef","RendimientoRef","PeriodoRef","numrow","setNum","aumrow","errorEcoRef","errorKilometrajeRef","errorConsumoRef","errorRendimientoRef","NumeroEcoError","KilometrajeError","ConsumoError","RendimientoError","Validaciones","event","nombre","currentTarget","name","valor","value","index","id","console","log","includes","test","current","handletablaidow","a","item","NumeroEconomico","Kilometraje","Fecha","i","push","handleRemoveRow","slice","updateInputValue","evt","target","Envio","Computo","replace","mesValue","año","formData","ConsumoDiesel","RendimientoDiesel","Periodo","Año","then","response","map","el","float","rootElement","document","getElementById","render"],"mappings":"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","sourcesContent":["import React, { useRef, useState, useEffect, createRef } from 'react';\nimport ReactDOM from \"react-dom\";\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TrainIcon from '@material-ui/icons/TrainOutlined';\nimport { useHistory } from \"react-router-dom\";\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport { green, purple } from '@material-ui/core/colors';\nimport {Grid,Box}  from '@material-ui/core/';\nimport { List, ListItem, ListItemIcon, ListItemText } from '@material-ui/core';\nimport { withRouter } from 'react-router-dom';\nimport swal from \"sweetalert\";\nimport { Input, TextField, Container, Typography } from '@material-ui/core';\nimport { sendData } from '../../Functions/Rendimientos'\nimport KeyboardReturn from \"@material-ui/icons/KeyboardReturn\";   \nimport CheckCircleOutline from \"@material-ui/icons/CheckCircleOutline\"; \nimport PlaylistAdd from \"@material-ui/icons/PlaylistAdd\";    \nimport {IoReturnUpBack} from \"react-icons/io5\";\nimport {IoReturnUpForwardOutline} from \"react-icons/io5\";   \n\nfunction Rendimientos() {\n\n  const [Mensajes, setMensajes] = useState([]);\n\n  const StyledTableCell = withStyles((theme) => ({\n        head: {\n          backgroundColor: '#7D2027',\n          color: theme.palette.common.white,\n          size:  'small',\n        \n        },\n        body: {\n          fontSize: 14,\n        },\n      }))(TableCell);\n      \n      const StyledTableRow = withStyles((theme) => ({\n        root: {\n          '&:nth-of-type(odd)': {\n            \n          },\n        },\n      }))(TableRow);\n      \n      const useStyles = makeStyles((theme) => ({\n        paper: {\n          marginTop: theme.spacing(8),\n          display: 'flex',\n          flexDirection: 'column',\n          \n        },\n        table: {\n          minWidth: \"100%\",\n        },\n        form: {\n          width: '100%', // Fix IE 11 issue.\n          marginTop: theme.spacing(3),\n        marginRight: theme.spacing(2),\n        },\n        submit: {\n          margin: theme.spacing(3, 0, 2),\n          backgroundColor: theme.palette.error.dark,\n        },\n      }));\n  const classes = useStyles();\n  const history = useHistory();   \n\n  function getCurrentDate(separator=''){\n\n        let newDate = new Date()\n        let date = newDate.getDate();\n        let month = newDate.getMonth() + 1;\n        let year = newDate.getFullYear();\n        \n          return `${year}${separator=\"-\"}${month<10?`0${month}`:`${month}`}${separator=\"-\"}${date}`\n      }\n      function getCurrentMonth(separator=''){\n\n        let newDate = new Date()\n        let month = newDate.getMonth();\n        return `${month}`\n     }\n     function getCurrentYear(separator=''){\n\n        let newDate = new Date()\n        let year = newDate.getFullYear();\n        return `${year}`\n     }\n      const fecha = getCurrentDate();\n\n      const meses = [\"Enero\",\"Febrero\",\"Marzo\",\"Abril\",\"Mayo\",\"Junio\",\"Julio\", \"Agosto\", \"Septiembre\", \"Octubre\", \"Noviembre\", \"Diciembre\"];\n      const month = meses[getCurrentMonth()];\n      const mes = meses[parseInt(fecha.substr(5,2))];\n      \n    const [rows, setRows] = useState([{}]);\n\n    const NumeroEcoRef = useRef([])\n    const KmRef = useRef([])\n    const ConsumoRef = useRef([])\n    const RendimientoRef = useRef([])\n    const PeriodoRef = useRef([])\n\n    var [numrow,setNum] = useState(1);\n    var aumrow = useRef();\n\n    const errorEcoRef = useRef([])\n    const errorKilometrajeRef = useRef([])\n    const errorConsumoRef = useRef([])\n    const errorRendimientoRef = useRef([])\n\n    const NumeroEcoError = useRef([])\n    const KilometrajeError = useRef([])\n    const ConsumoError = useRef([])\n    const RendimientoError = useRef([])\n\n    const Validaciones = (event) => {\n\n      const nombre = event.currentTarget.name;\n      const valor = event.currentTarget.value;\n      const index = event.currentTarget.id;\n      console.log(nombre + valor + index);\n\n      if(nombre.includes(\"NumeroEconomico\"))\n      {\n        if(!/^[A-ZñÑa-z0-9-. ]+$/i.test(valor))\n        {\n          errorEcoRef.current[index] = \"El número económico no acepta caracteres especiales.\";\n          NumeroEcoError.current[index]=true;\n          setMensajes(index);\n        }\n        else\n        {\n          errorEcoRef.current[index] = \"\";\n          NumeroEcoError.current[index]=false;\n          setMensajes(index+'a');\n        }\n\n      }\n\n      else if(nombre.includes(\"Kilometraje\")){\n        if(!/^[0-9.]+$/i.test(valor)){\n          errorKilometrajeRef.current[index] = \"El kilometraje solo admite números.\";\n          KilometrajeError.current[index]=true;\n          setMensajes(index+\"e\");\n        }\n        else{\n          errorKilometrajeRef.current[index] = \"\";\n          KilometrajeError.current[index]=false;\n          setMensajes(index+\"i\");\n        }\n      } \n\n      else if(nombre.includes(\"Consumo\")){\n        if(!/^[0-9/\\A-ZñÑa-z]+$/i.test(valor)){\n          errorConsumoRef.current[index] = \"El consumo solo admite números.\";\n          ConsumoError.current[index]=true;\n          setMensajes(index+\"o\");\n        }\n        else{\n          errorConsumoRef.current[index] = \"\";\n          ConsumoError.current[index]=false;\n          setMensajes(index+\"u\");\n        }\n      } \n\n      else if(nombre.includes(\"Rendimiento\")){\n        if(!/^[0-9/\\A-ZñÑa-z]+$/i.test(valor)){\n          errorRendimientoRef.current[index] = \"El rendimiento solo admite números.\";\n          RendimientoError.current[index]=true;\n          setMensajes(index+\"aa\");\n        }\n        else{\n          errorRendimientoRef.current[index] = \"\";\n          RendimientoError.current[index]=false;\n          setMensajes(index+\"ee\");\n        }\n      } \n\n    } \n\n    const handletablaidow = () => {\n//        let a = aumrow.current.value\n  \tlet a = 0 - 0\n        if(aumrow.current.value)\n                a = aumrow.current.value\n        else\n                a = 1 - 0\n\n        setNum(numrow + parseInt(a))\n        const item = {\n            NumeroEconomico: \"\",\n            Kilometraje: \"\",\n            Fecha: \"\"\n        };\n        for(let i = 0; i < (a-1); i++)\n          rows.push(item); \n        setRows([...rows, item]);\n        aumrow.current.value=null\n    };\n    const handleRemoveRow = () => {\n        setRows(rows.slice(0, numrow-1));\n        setNum(numrow-1)\n    };\n\n    function updateInputValue(evt) {\n      numrow += evt.target.value;\n      aumrow =  evt.target.value;\n  \t}\n  const Envio = async() => {\n\tawait Computo()\n\thistory.replace(\"/Revisiones/Formatos\")\n  }\n  const Computo = () => {\n      console.log(numrow)\n  \t\tfor(let i = 0; i < parseInt(numrow); i++)\n      {\n        var mesValue = \"\", año = \"\";\n        if(NumeroEcoRef.current[i].value &&  KmRef.current[i].value && ConsumoRef.current[i].value && PeriodoRef.current[i].value)\n        {\n          mesValue = PeriodoRef.current[i].value;          \n          console.log(NumeroEcoRef.current[i].value + \" \" + KmRef.current[i].value + \" \" + ConsumoRef.current[i].value + \" \" + PeriodoRef.current[i].value + \"\\n\")\n          const formData = {\n            NumeroEconomico: NumeroEcoRef.current[i].value,\n            Kilometraje: KmRef.current[i].value,\n            ConsumoDiesel: ConsumoRef.current[i].value,\n            RendimientoDiesel: RendimientoRef.current[i].value,\n            Periodo: mesValue,\n            Año: getCurrentYear()\n          }\n          sendData(formData).then(response => {\n            console.log(\"Enviando...\")\n            console.log(\"Fin...\")  \n          })\n          \n        }\n      }\n      swal(\"¡Felicidades!\",\"Tus datos se enviaron correctamente. \", \"success\")\n      //history.replace(\"/Revisiones/Formatos\")\n  \t}\n\n    return (\n        <div>\n\n        <Typography component=\"h1\" variant=\"h5\" align=\"left\">\n      Rendimiento.\n    </Typography>\n         <Typography component=\"h1\" variant=\"h5\" align=\"left\">\n      {fecha}\n    </Typography>\n    <br></br>\n        <TableContainer component={Paper}>\n        {/* <Grid item xs={12}>\n            <Box mr={2}>\n           */} <Table className={classes.table} aria-label=\"customized table\">\n                <TableHead>\n                    <TableRow>\n                        <StyledTableCell align=\"center\" component=\"th\" scope=\"row\">No.</StyledTableCell>\n                        <StyledTableCell align=\"center\" component=\"th\" scope=\"row\">Número Económico</StyledTableCell>\n                        <StyledTableCell align=\"center\" component=\"th\" scope=\"row\">Kilometraje</StyledTableCell>\n                        <StyledTableCell align=\"center\" component=\"th\" scope=\"row\">Consumo Diesel (lts)</StyledTableCell>\n                        <StyledTableCell align=\"center\" component=\"th\" scope=\"row\">Rendimiento Diesel (km/lts)</StyledTableCell>\n                        <StyledTableCell align=\"center\" component=\"th\" scope=\"row\">Período</StyledTableCell>\n                        <StyledTableCell/>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {rows.map((item, index) => (\n                        <TableRow id=\"tablaid\" key={index+1}>\n                            <StyledTableCell align=\"center\" component=\"th\" scope=\"row\">{index+1}</StyledTableCell>\n                            <TableCell align=\"center\" component=\"th\" scope=\"row\">\n                                <TextField\n                                    type=\"text\"\n                                    id={index}\n                                    name={\"NumeroEconomico\"+index}\n                                    inputRef={(el) => (NumeroEcoRef.current[index] = el)}\n                                    error={NumeroEcoError.current[index]}\n                                    helperText={errorEcoRef.current[index]}\n                                    onBlur={Validaciones} \n                                    required\n                                />\n                            </TableCell>\n                            <TableCell align=\"center\" component=\"th\" scope=\"row\">\n                                <TextField\n                                    type=\"text\"\n                                    id={index}\n                                    name={\"Kilometraje\"+index}\n                                    inputRef={(el) => (KmRef.current[index] = el)}\n                                    error={KilometrajeError.current[index]}\n                                    helperText={errorKilometrajeRef.current[index]}\n                                    onBlur={Validaciones} \n                                    required\n                                />\n                            </TableCell>\n                            <TableCell align=\"center\" component=\"th\" scope=\"row\">\n                                <TextField\n                                    type=\"text\"\n                                    id={index}\n                                    name={\"Consumo\"+index}\n                                    inputRef={(el) => (ConsumoRef.current[index] = el)}\n                                    error={ConsumoError.current[index]}\n                                    helperText={errorConsumoRef.current[index]}\n                                    onBlur={Validaciones} \n                                    required\n                                />\n                            </TableCell>\n                            <TableCell align=\"center\" component=\"th\" scope=\"row\">\n                                <TextField\n                                    type=\"text\"\n                                    id={index}\n                                    name={\"Rendimiento\"+index}\n                                    inputRef={(el) => (RendimientoRef.current[index] = el)}\n                                    error={RendimientoError.current[index]}\n                                    helperText={errorRendimientoRef.current[index]}\n                                    onBlur={Validaciones} \n                                    required\n                                />\n                            </TableCell>\n                             <StyledTableCell align=\"center\" component=\"th\" scope=\"row\">\n                               <Input\n                                    type=\"text\"\n                                    name={\"Mes\"+index}\n                                    defaultValue={month}\n                                    inputRef={(el) => (PeriodoRef.current[index] = el)}\n                                />\n                            </StyledTableCell>\n                            <StyledTableCell align=\"center\" component=\"th\" scope=\"row\">\n                            </StyledTableCell>\n                        </TableRow>\n                    ))}\n                </TableBody>\n            </Table>\n            {/* </Box>*/}\n            &nbsp;&nbsp;\n            <Input id=\"standart-basic\" type=\"number\" size=\"small\" inputRef={aumrow}/>\n            <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                style={{backgroundColor:\"#CC353F\"}}\n                 className={classes.submit} \n                 onClick={handletablaidow}><PlaylistAdd /></Button>\n                 &nbsp;\n      {/*      <Button className={classes.submit} \n                 onClick={handletablaidow}onClick={handleRemoveRow}>\n                Borrar Fila\n            </Button>*/}\n            {/* </Grid>*/}\n           </TableContainer>\n\t<Button\n                            width= \"25%\"\n                            align= \"left\"\n                            variant=\"contained\"\n                            color=\"secondary\"\n                            style={{backgroundColor:\"#CC353F\"}}\n                            className={classes.submit}\n                            type=\"submit\"\n                            onClick={()=> {\n                                history.push('/Revisiones/Formatos')\n                            }}>\n                          <IoReturnUpBack size={20}/>\n                    </Button>\n            <Button\n            type=\"submit\"\n            width= \"25%\"\n            align= \"right\"\n\t         style={{float:\"right\",backgroundColor:\"#CC353F\"}}\n            variant=\"contained\"\n            color=\"secondary\"\n            className={classes.submit}\n            onClick={Envio}\n            >\n  <IoReturnUpForwardOutline size={20}/>\n    </Button>\n        </div>\n    );\n}\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<Rendimientos />, rootElement);\n\nexport default withRouter(Rendimientos);\n"]},"metadata":{},"sourceType":"module"}