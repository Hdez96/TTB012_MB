{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/TTB012_MB/FrontEnd/src/componentes/Login/Login.jsx\";\nimport React, { useRef, useEffect, Component } from 'react';\nimport Cookies from 'js-cookie';\nimport { useHistory } from \"react-router-dom\";\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Paper from '@material-ui/core/Paper';\nimport Box from '@material-ui/core/Box';\nimport swal from \"sweetalert\";\nimport Grid from '@material-ui/core/Grid';\nimport TrainIcon from '@material-ui/icons/TrainOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport pic1 from '../image/mb1.jpg';\nimport pic2 from '../image/mb2.jpg';\nimport pic3 from '../image/mb3.jpg';\nimport pic4 from '../image/mb4.jpg';\nimport axios from 'axios';\nimport { login } from '../Functions/UserFunctions';\nimport Select from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\n\nfunction Copyright() {\n  return /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }, 'Copyright © ', /*#__PURE__*/React.createElement(Link, {\n    color: \"inherit\",\n    href: \"https://material-ui.com/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }, \"Proyecto Metrob\\xFAs\"), ' ', new Date().getFullYear(), '.');\n}\n\nconst pictureArray = [pic1, pic2, pic3, pic4];\nconst randomIndex = Math.floor(Math.random() * pictureArray.length);\nconst selectedPicture = pictureArray[randomIndex];\nconst useStyles = makeStyles(theme => ({\n  root: {\n    height: '100vh'\n  },\n  image: {\n    backgroundImage: `url(${selectedPicture})`,\n    //'url(https://source.unsplash.com/random)',\n    backgroundRepeat: 'no-repeat',\n    backgroundColor: theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center'\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: '100%',\n    // Fix IE 11 issue.\n    marginTop: theme.spacing(1)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  }\n}));\nexport default function SignInSide() {\n  const history = useHistory();\n  const classes = useStyles();\n  const emailRef = useRef(''); //creating a refernce for TextField Component\n\n  const passRef = useRef(''); //creating a refernce for TextField Component\n  //POPUP\n\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const rec = () => {\n    swal(\"¡Lo sentimos!\", \"Esta función se encuentra en desarrollo...\", \"error\");\n  };\n\n  let flag = 0;\n\n  const Recordando = () => {\n    flag = 1;\n  };\n\n  useEffect(() => {\n    if (Cookies.get(\"Cuenta\")) emailRef.current.value = Cookies.get(\"Cuenta\");\n    if (Cookies.get(\"Token\")) history.replace(\"/Revisiones/Formatos\");\n  }, []);\n\n  const handleSelChange = e => {\n    if (e.target.value == \"Estaciones\") window.location.replace(\"http://10.138.0.10:3001/login\");else if (e.target.value == \"Operaciones\") window.location.replace(\"http://10.138.0.10:3002/login\");else if (e.target.value == \"Unidades\") window.location.replace(\"http://10.138.0.10:3000/log\"); //console.log(user);\n  }; //POPUP\n\n\n  const onSumit = event => {\n    if (flag) Cookies.set(\"Cuenta\", emailRef.current.value);\n    const user = {\n      email: emailRef.current.value,\n      password: passRef.current.value\n    };\n    login(user).then(response => {\n      console.log(response);\n\n      if (response) {\n        if (response.success == true) {\n          swal(\"¡Accediste!\", \"Bienvenido \", \"success\");\n          history.push(\"/Revisiones/Formatos\");\n          history.go(0);\n        } else {\n          if (response.estado == \"INACTIVO\") swal(\"¡No lograste acceder!\", \"Tu cuenta NO está activa.\", \"error\");\n          /*else if(response.fail == true)\n            swal(\"¡No lograste acceder!\",\"Revisa tus credenciales.\",\"error\");*/\n          else swal(\"¡No lograste acceder!\", \"Revisa tu usuario y contraseña.\", \"error\"); //console.log(\"Usuario o contraseña no válidos.\")\n        }\n      } else swal(\"No lograste conectar.\", \"Revisa tu conexión.\", \"error\");\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    component: \"main\",\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CssBaseline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: false,\n    sm: 4,\n    md: 7,\n    className: classes.image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 8,\n    md: 5,\n    component: Paper,\n    elevation: 6,\n    square: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    className: classes.avatar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TrainIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 11\n    }\n  }, \"Entrar\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.form,\n    noValidate: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    htmlFor: \"age-native-simple\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 21\n    }\n  }, \" Area \"), /*#__PURE__*/React.createElement(Select, {\n    native: true,\n    defaultValue: \"Unidades\",\n    onChange: handleSelChange,\n    inputProps: {\n      name: \"area\",\n      id: \"age-native-simple\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    \"aria-label\": \"None\",\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Estaciones\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 23\n    }\n  }, \"Estaciones Y Mantenimiento\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Operaciones\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 23\n    }\n  }, \"Operaciones\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Unidades\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 23\n    }\n  }, \"Unidades de Transporte\")), /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    id: \"email\",\n    label: \"Usuario\",\n    name: \"email\",\n    autoComplete: \"email\",\n    autoFocus: true,\n    inputRef: emailRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    name: \"password\",\n    label: \"Contrase\\xF1a\",\n    type: \"password\",\n    id: \"password\",\n    autoComplete: \"current-password\",\n    inputRef: passRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(FormControlLabel, {\n    control: /*#__PURE__*/React.createElement(Checkbox, {\n      value: \"remember\",\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 24\n      }\n    }),\n    onClick: Recordando,\n    label: \"Recu\\xE9rdame\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    fullWidth: true,\n    style: {\n      backgroundColor: '#992830'\n    },\n    variant: \"contained\",\n    color: \"secondary\",\n    className: classes.submit,\n    onClick: onSumit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 13\n    }\n  }, \"Ingresar\"), /*#__PURE__*/React.createElement(Dialog, {\n    open: open,\n    onClose: handleClose,\n    \"aria-labelledby\": \"alert-dialog-title\",\n    \"aria-describedby\": \"alert-dialog-description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    id: \"alert-dialog-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 15\n    }\n  }, \"ERROR\"), /*#__PURE__*/React.createElement(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(DialogContentText, {\n    id: \"alert-dialog-description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 17\n    }\n  }, \"Contrase\\xF1a y Usuarios no validos\")), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleClose,\n    color: \"primary\",\n    autoFocus: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 17\n    }\n  }, \"Aceptar\"))), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    href: \"recup\",\n    variant: \"body2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 17\n    }\n  }, \"Recuperar Contrase\\xF1a.\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    href: \"/sign\",\n    variant: \"body2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 17\n    }\n  }, \"¿No tienes cuenta? Regístrate.\"))), /*#__PURE__*/React.createElement(Box, {\n    mt: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Copyright, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 15\n    }\n  }))))));\n}","map":{"version":3,"sources":["/home/ubuntu/TTB012_MB/FrontEnd/src/componentes/Login/Login.jsx"],"names":["React","useRef","useEffect","Component","Cookies","useHistory","Avatar","Button","CssBaseline","TextField","FormControlLabel","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Checkbox","Link","Paper","Box","swal","Grid","TrainIcon","Typography","makeStyles","pic1","pic2","pic3","pic4","axios","login","Select","InputLabel","Copyright","Date","getFullYear","pictureArray","randomIndex","Math","floor","random","length","selectedPicture","useStyles","theme","root","height","image","backgroundImage","backgroundRepeat","backgroundColor","palette","type","grey","backgroundSize","backgroundPosition","paper","margin","spacing","display","flexDirection","alignItems","avatar","secondary","main","form","width","marginTop","submit","SignInSide","history","classes","emailRef","passRef","open","setOpen","useState","handleClickOpen","handleClose","rec","flag","Recordando","get","current","value","replace","handleSelChange","e","target","window","location","onSumit","event","set","user","email","password","then","response","console","log","success","push","go","estado","name","id"],"mappings":"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","sourcesContent":["import React, { useRef,useEffect, Component } from 'react';\nimport Cookies from 'js-cookie';\nimport { useHistory } from \"react-router-dom\";\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Paper from '@material-ui/core/Paper';\nimport Box from '@material-ui/core/Box';\nimport swal from \"sweetalert\";\nimport Grid from '@material-ui/core/Grid';\nimport TrainIcon from '@material-ui/icons/TrainOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport pic1 from '../image/mb1.jpg'\nimport pic2 from '../image/mb2.jpg'\nimport pic3 from '../image/mb3.jpg'\nimport pic4 from '../image/mb4.jpg'\nimport axios from 'axios'\nimport { login } from '../Functions/UserFunctions'\nimport Select from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright © '}\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\n        Proyecto Metrobús\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst pictureArray = [pic1, pic2, pic3, pic4];\nconst randomIndex = Math.floor(Math.random() * pictureArray.length);\nconst selectedPicture = pictureArray[randomIndex];\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: '100vh',\n  },\n  \n    \n  image: {\n  backgroundImage: `url(${selectedPicture})`, //'url(https://source.unsplash.com/random)',\n    backgroundRepeat: 'no-repeat',\n    backgroundColor:\n      theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default function SignInSide() {\n  const history = useHistory();\n  const classes = useStyles();\n\n  const emailRef = useRef('') //creating a refernce for TextField Component\n  const passRef = useRef('') //creating a refernce for TextField Component\n\n  //POPUP\n\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const rec = () => {\n     swal(\"¡Lo sentimos!\",\"Esta función se encuentra en desarrollo...\", \"error\");  \n  }\n\n  let flag = 0\n\n  const Recordando = () => {\n\tflag = 1\n  }\n\nuseEffect(() => {\n      if(Cookies.get(\"Cuenta\"))\n\t emailRef.current.value = Cookies.get(\"Cuenta\")\t\n      \n      if(Cookies.get(\"Token\"))\n\thistory.replace(\"/Revisiones/Formatos\")\n    }, [])\n\n\n  const handleSelChange = (e) => {\n    if(e.target.value ==\"Estaciones\")\n    window.location.replace(\"http://10.138.0.10:3001/login\");\n    else if(e.target.value ==\"Operaciones\")\n    window.location.replace(\"http://10.138.0.10:3002/login\");\n    else if(e.target.value ==\"Unidades\")\n    window.location.replace(\"http://10.138.0.10:3000/log\");\n    //console.log(user);\n  };\n\n  //POPUP\n\n\n  const onSumit = (event) => {\n    if(flag)\n\tCookies.set(\"Cuenta\", emailRef.current.value)\n    const user = {\n      email: emailRef.current.value,\n      password: passRef.current.value\n    }\n    \n    login(user).then(response => {\n      console.log(response)\n      if(response)\n      {\n        if (response.success == true) \n        {\n          swal(\"¡Accediste!\",\"Bienvenido \", \"success\");  \n          history.push(\"/Revisiones/Formatos\") \n\thistory.go(0)\n        }\n        else\n        {\n          if(response.estado == \"INACTIVO\")\n            swal(\"¡No lograste acceder!\",\"Tu cuenta NO está activa.\", \"error\");\n    /*else if(response.fail == true)\n      swal(\"¡No lograste acceder!\",\"Revisa tus credenciales.\",\"error\");*/ \n          else\n            swal(\"¡No lograste acceder!\",\"Revisa tu usuario y contraseña.\", \"error\");\n          //console.log(\"Usuario o contraseña no válidos.\")\n        }\n      }\n      else\n        swal(\"No lograste conectar.\",\"Revisa tu conexión.\",\"error\");\n    })\n  }\n  \n  return (\n    <Grid container component=\"main\" className={classes.root}>\n      <CssBaseline />\n      <Grid item xs={false} sm={4} md={7} className={classes.image} />     \n      <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\n        <div className={classes.paper}>\n          <Avatar className={classes.avatar}>\n            <TrainIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Entrar\n          </Typography>\n          <form className={classes.form} noValidate >\n                    <InputLabel htmlFor=\"age-native-simple\"> Area </InputLabel>\n                    <Select\n                      native\n                      defaultValue=\"Unidades\"\n                      onChange={handleSelChange}\n                      inputProps={{\n                        name: \"area\",\n                        id: \"age-native-simple\",\n                      }}\n                    >\n                      <option aria-label=\"None\" value=\"\" />\n                      \n                      <option value={\"Estaciones\"}>\n                        \n                          Estaciones Y Mantenimiento\n                        </option>\n                      <option value={\"Operaciones\"}>Operaciones</option>\n                      <option value={\"Unidades\"}>Unidades de Transporte</option>\n                    </Select>\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"email\"\n              label=\"Usuario\"\n              name=\"email\"\n              autoComplete=\"email\"\n              autoFocus\n              inputRef={emailRef}  \n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Contraseña\"\n              type=\"password\"\n              id=\"password\" \n              autoComplete=\"current-password\" \n              inputRef={passRef} \n            />\n            <FormControlLabel\n              control={<Checkbox value=\"remember\" color=\"primary\"/>}\n\t      onClick={Recordando}\n              label=\"Recuérdame\"\n            />\n\n            <Button\n              fullWidth\n              style={{backgroundColor:'#992830'}}\n              variant=\"contained\"\n              color=\"secondary\"\n              className={classes.submit}\n              onClick={onSumit}\n            >\n              Ingresar\n            </Button>\n\n            <Dialog\n              open={open}\n              onClose={handleClose}\n              aria-labelledby=\"alert-dialog-title\"\n              aria-describedby=\"alert-dialog-description\"\n            >\n              <DialogTitle id=\"alert-dialog-title\">{\"ERROR\"}</DialogTitle>\n              <DialogContent>\n                <DialogContentText id=\"alert-dialog-description\">\n                  Contraseña y Usuarios no validos\n                </DialogContentText>\n              </DialogContent>\n              <DialogActions>\n                <Button onClick={handleClose} color=\"primary\" autoFocus>\n                  Aceptar\n                </Button>\n              </DialogActions>\n            </Dialog>\n\n            <Grid container>\n              <Grid item xs>\n               {/*onClick={rec}*/}\n                <Link href=\"recup\" variant=\"body2\">\n                  Recuperar Contraseña.\n                </Link>\n              </Grid>\n\n              <Grid item>\n                <Link href=\"/sign\" variant=\"body2\">\n                  {\"¿No tienes cuenta? Regístrate.\"}\n                </Link>\n              </Grid>\n\n            </Grid>\n            <Box mt={5}>\n              <Copyright />\n            </Box>\n          </form>\n        </div>\n      </Grid>\n    </Grid>\n    \n  );\n  \n}\n"]},"metadata":{},"sourceType":"module"}