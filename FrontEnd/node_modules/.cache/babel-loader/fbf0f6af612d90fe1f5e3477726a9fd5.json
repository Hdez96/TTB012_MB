{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/TTB012_MB/FrontEnd/src/componentes/SideBar/Perfil.jsx\";\nimport React, { useEffect, useState, useRef } from 'react';\nimport { Avatar, Typography, makeStyles } from '@material-ui/core';\nimport Grid from '@material-ui/core/Grid';\nimport Link from '@material-ui/core/Link';\nimport { getUserData } from \"../Functions/UserFunctions\";\nimport Button from '@material-ui/core/Button';\nimport Cookies from 'js-cookie';\nimport AddPhotoAlternate from \"@material-ui/icons/AddPhotoAlternate\";\n\nconst Perfil = () => {\n  const estilos = makeStyles(theme => ({\n    root: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      minHeight: 'fit-content'\n    },\n    title: {\n      flexGrow: 1\n    },\n    avatar: {\n      width: 130,\n      height: 130\n    },\n    name: {\n      marginTop: theme.spacing(1)\n    },\n    offset: theme.mixins.toolbar\n  }));\n  const classes = estilos();\n  const [preload, setPreload] = useState(true);\n  const [data1, setData1] = useState(); //Precarga\n\n  const [nombre, setNombre] = useState([]);\n  const [cargo, setCargo] = useState([]);\n  const [departamento, setDepartamento] = useState([]);\n  const imagenes = useRef();\n  useEffect(() => {\n    getLocal();\n  }, []);\n  const useStyles = makeStyles(theme => ({\n    root: {\n      '& > *': {\n        margin: theme.spacing(1)\n      }\n    }\n  }));\n\n  const getLocal = async () => {\n    /*if(!Cookies.get(\"Foto\"))\n       {*/\n    const url = '/users/get_User';\n    let email_p = Cookies.get(\"Email\");\n    console.log(email_p);\n    const ema = {\n      url: url,\n      email: email_p\n    };\n\n    const _data = await getUserData(ema);\n\n    console.log(_data); //let expi = new Date(Number(new Date()) + (4 * 60 * 60000) )\n\n    if (_data.data.Foto) {\n      var bufferBase64 = new Buffer(_data.data.Foto, 'binary').toString('ascii'); //    Cookies.set(\"Foto\", bufferBase64 ,{expires: expi })\n\n      imagenes.current = bufferBase64;\n      setData1('a');\n    } else {\n      //\tCookies.set(\"Foto\", \"/images/avatars/U_T_titular.png\" ,{ expires: expi })\n      imagenes.current = \"/images/avatars/U_T_titular.png\";\n      setData1('abb');\n    } //\tlet expi = new Date(Number(new Date()) + (4 * 60 * 60000) )\n    //Cookies.set(\"Foto\", imagenes.current,{maxAge: 86000, expires: expi })\n\n\n    let obj = _data.data;\n    let datas = _data.data.Nombre + ' ' + _data.data.Apellido;\n    setNombre(datas);\n    let datas2 = _data.data.Tipo;\n    setCargo(datas2);\n    let datas4 = _data.data.Departamento;\n    setDepartamento(datas4);\n    /*\t}\t\n        else\n        {\n    \tsetNombre(Cookies.get(\"Nombre\")+ ' ' +Cookies.get(\"Apellido\"))\n    \tsetCargo(Cookies.get(\"Cargo\"))\n    \tsetDepartamento(Cookies.get(\"Departamento\"))\n    \timagenes.current = Cookies.get(\"Foto\")\n    \tsetData1('b')\n        }   */\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"center\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    className: classes.title,\n    style: {\n      color: '#FFFFFF'\n    },\n    variant: \"h4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }, \"Departamento de \", departamento)), /*#__PURE__*/React.createElement(Avatar, {\n    alt: \"Person\",\n    className: classes.avatar,\n    src: imagenes.current,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    className: classes.name,\n    style: {\n      color: '#FFFFFF'\n    },\n    align: \"center\",\n    variant: \"h4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }, nombre), /*#__PURE__*/React.createElement(Typography, {\n    style: {\n      color: '#FFFFFF'\n    },\n    variant: \"h5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  }, cargo), /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    href: \"/perfil\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }, \"Editar Perfil\"));\n};\n\nexport default Perfil;","map":{"version":3,"sources":["/home/ubuntu/TTB012_MB/FrontEnd/src/componentes/SideBar/Perfil.jsx"],"names":["React","useEffect","useState","useRef","Avatar","Typography","makeStyles","Grid","Link","getUserData","Button","Cookies","AddPhotoAlternate","Perfil","estilos","theme","root","display","flexDirection","alignItems","minHeight","title","flexGrow","avatar","width","height","name","marginTop","spacing","offset","mixins","toolbar","classes","preload","setPreload","data1","setData1","nombre","setNombre","cargo","setCargo","departamento","setDepartamento","imagenes","getLocal","useStyles","margin","url","email_p","get","console","log","ema","email","_data","data","Foto","bufferBase64","Buffer","toString","current","obj","datas","Nombre","Apellido","datas2","Tipo","datas4","Departamento","color"],"mappings":"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","sourcesContent":["import React,{useEffect,useState,useRef} from 'react'\nimport { Avatar, Typography, makeStyles } from '@material-ui/core';\nimport Grid from '@material-ui/core/Grid';\nimport Link from '@material-ui/core/Link';\nimport {getUserData} from \"../Functions/UserFunctions\";\nimport Button from '@material-ui/core/Button';\nimport Cookies from 'js-cookie';\nimport AddPhotoAlternate from \"@material-ui/icons/AddPhotoAlternate\";\n\nconst Perfil = () => {\n    \n    const estilos = makeStyles(theme => ({\n        root: {\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          minHeight: 'fit-content'\n        },\n        title: {\n            flexGrow: 1\n        },\n        avatar: {\n          width: 130,\n          height: 130\n        },\n        name: {\n          marginTop: theme.spacing(1)\n        },\n        offset: theme.mixins.toolbar\n      }));\n    const classes = estilos();\n\n    const [preload, setPreload] = useState(true);\n    const [data1, setData1] = useState();\n  //Precarga\n  const [nombre, setNombre] = useState([]);\n  const [cargo, setCargo] = useState([]);\n  const [departamento, setDepartamento] = useState([]);\n  const imagenes = useRef()\n\n  useEffect(() => {\n    getLocal();\n  }, []);\n\n  const useStyles = makeStyles((theme) => ({\n    root: {\n      '& > *': {\n        margin: theme.spacing(1),\n      },\n    },\n  }));\n\n  const getLocal = async () => {\n\t/*if(!Cookies.get(\"Foto\"))\n    {*/\n    const url = '/users/get_User'\n    let email_p = Cookies.get(\"Email\")\n    console.log(email_p)\n    const ema = {\n      url: url,\n      email: email_p\n    }\n    const _data = await getUserData(ema)\n    console.log(_data)\n\t//let expi = new Date(Number(new Date()) + (4 * 60 * 60000) )\n    if (_data.data.Foto)\n    {\n      var bufferBase64 = new Buffer( _data.data.Foto, 'binary' ).toString('ascii');\n  //    Cookies.set(\"Foto\", bufferBase64 ,{expires: expi })\n\timagenes.current = bufferBase64\n      setData1('a')\n    }\n    else\n    {\n//\tCookies.set(\"Foto\", \"/images/avatars/U_T_titular.png\" ,{ expires: expi })\n     imagenes.current = \"/images/avatars/U_T_titular.png\"\n      setData1('abb')\n    }\n//\tlet expi = new Date(Number(new Date()) + (4 * 60 * 60000) )\n    //Cookies.set(\"Foto\", imagenes.current,{maxAge: 86000, expires: expi })\n    \n    let obj = _data.data\n    let datas = _data.data.Nombre + ' ' + _data.data.Apellido\n    setNombre(datas)\n    let datas2 = _data.data.Tipo\n    setCargo(datas2)\n    let datas4 = _data.data.Departamento\n    setDepartamento(datas4)\n/*\t}\t\n    else\n    {\n\tsetNombre(Cookies.get(\"Nombre\")+ ' ' +Cookies.get(\"Apellido\"))\n\tsetCargo(Cookies.get(\"Cargo\"))\n\tsetDepartamento(Cookies.get(\"Departamento\"))\n\timagenes.current = Cookies.get(\"Foto\")\n\tsetData1('b')\n    }   */\n};   \n\n\n    return ( \n      <div className={classes.root}>\n\t  <center>\n          <Typography className={classes.title} style={{ color: '#FFFFFF' }} variant=\"h4\" >\n            Departamento de {departamento}\n          </Typography>\n          </center>\n          <Avatar alt=\"Person\" className={classes.avatar} src={imagenes.current}/>\n\n          <Typography className={classes.name} style={{ color: '#FFFFFF' }} align=\"center\" variant=\"h4\">\n\t\t        {nombre}\n          </Typography>\n          <Typography style={{ color: '#FFFFFF' }} variant=\"h5\">\n      \t   {cargo}\n      \t  </Typography>\n            <Button color=\"primary\" href=\"/perfil\">Editar Perfil</Button>\n      </div>\n     );\n}\n \nexport default Perfil;\n"]},"metadata":{},"sourceType":"module"}